extends layout
block vars
  - var bodyClass = 'location-page';

block headerLink
  a.header-link(href="/locations/#{location.id}")= location.name

block container
  .buoy-view-wrap
    .buoy-view-inner-wrap
      for buoy in buoys
        include ./includes/buoy-view.jade

      .buoy-view
        iframe(
          width="300",
          height="566",
          src="https://embed.windy.com/embed2.html?#{location.latitude},#{location.longitude},8"
          frameborder="0"
        )

  if isAuthenticated
    .container
      include ./includes/update-location.jade

  .container.snapshots(ng-snapshots="#{location.id}")
    div(ng-repeat="snapshot in snapshots")
      include ./includes/snapshot.jade

    .info(ng-if="page && !snapshots.length") No snapshots exist &#128546;
    .text-center.btns
      a.btn(
        ng-disabled="loading || isLastPage"
        ng-click="load()"
      ) Load {{ page > 0 ? 'more' : 'snapshots' }}


